<?xml version="1.0" encoding="UTF-8"?>
<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:f="http://xmlns.jcp.org/jsf/core"
        template="/template.xhtml"
        xmlns:p="http://primefaces.org/ui">

    <f:metadata>
        <f:viewParam name="userId" value="#{userAddView.userId}"/>
    </f:metadata>
    <ui:define name="content">
        <h:form>
            <h:panelGroup layout="block" styleClass="regPanel">

                <p:panel header="Registration form">
                    <h:panelGrid id="grid" cellpadding="5" columns="2" style="margin-bottom:10px">
                        <f:facet name="header">
                            <p:messages id="msgs"/>
                        </f:facet>

                        <p:outputLabel for="name" value="Name"/>
                        <p:inputText id="name" value="#{userAddView.user.name}" required="true"
                                     requiredMessage="Name is required."/>

                        <p:outputLabel for="surname" value="Surname:"/>
                        <p:inputText id="surname" value="#{userAddView.user.surname}" required="true"
                                     requiredMessage="Surname is required."/>

                        <p:outputLabel for="email" value="Email:"/>
                        <p:inputText id="email" value="#{userAddView.user.email}" required="true"
                                     requiredMessage="Email is required."/>

                        <p:outputLabel for="nickname" value="Login:"/>
                        <p:inputText id="nickname" value="#{userAddView.user.nickname}" required="true"
                                     requiredMessage="Login is required."/>

                        <p:outputLabel for="password" value="Password:"/>
                        <p:password id="password" value="#{userAddView.user.password}" required="true"
                                    requiredMessage="Password is required."/>
                    </h:panelGrid>
                    <p:commandButton value="Register" id="btnSurname"
                                     process="@this,surname,name,email,nickname,password " update="grid" action="main.xhtml"
                                     actionListener="#{userAddView.addNewUser}"/>
                    <p:button value="Cancel" outcome="main.xhtml"/>
                </p:panel>
            </h:panelGroup>


        </h:form>
    </ui:define>
</ui:composition>